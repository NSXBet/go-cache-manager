// Code generated by protoc-gen-go-cache-manager. DO NOT EDIT.

package testapp

import (
	"context"
	"fmt"

	"github.com/NSXBet/protoc-gen-go-cache-manager/pkg/gocachemanager"
)

// UserCacheManager for every operation related to this service:
// UserCache is the service that will be used to cache user details.
type UserCacheManager struct {
	userCacheManager_UserDetails *gocachemanager.CacheManager[*UserDetailsRequest, *UserDetailsResponse]
}

// NewUserCacheManager is the constructor method for this service:
// UserCache is the service that will be used to cache user details.
func NewUserCacheManager(
	updateUserDetailsFn func(context.Context, *UserDetailsRequest) (*UserDetailsResponse, error),
	options ...gocachemanager.CacheOption,
) (*UserCacheManager, error) {
	userCacheManager_UserDetails, err := gocachemanager.NewCacheManager(
		"usercache::userdetails",
		func() *UserDetailsResponse { return &UserDetailsResponse{} },
		updateUserDetailsFn,
		options...,
	)
	if err != nil {
		return nil, fmt.Errorf("creating cache manager %s: %w", "UserDetails", err)
	}

	return &UserCacheManager{
		userCacheManager_UserDetails: userCacheManager_UserDetails,
	}, nil
}

// GetUserDetails returns the user details for the given user_id from the cache.
func (cm *UserCacheManager) GetUserDetails(
	ctx context.Context,
	input *UserDetailsRequest,
) (*UserDetailsResponse, error) {
	return cm.userCacheManager_UserDetails.Get(ctx, input)
}

// Eagerly refresh the cache for the method that:
// UserDetails returns the user details for the given user_id from the cache.
func (cm *UserCacheManager) RefreshUserDetails(
	ctx context.Context,
	input *UserDetailsRequest,
) (*UserDetailsResponse, error) {
	return cm.userCacheManager_UserDetails.Refresh(ctx, input)
}

type TournamentCacheManager struct {
	tournamentCacheManager_MainTournaments *gocachemanager.CacheManager[*MainTournamentsRequest, *MainTournamentsResponse]
}

func NewTournamentCacheManager(
	updateMainTournamentsFn func(context.Context, *MainTournamentsRequest) (*MainTournamentsResponse, error),
	options ...gocachemanager.CacheOption,
) (*TournamentCacheManager, error) {
	tournamentCacheManager_MainTournaments, err := gocachemanager.NewCacheManager(
		"tournamentcache::maintournaments",
		func() *MainTournamentsResponse { return &MainTournamentsResponse{} },
		updateMainTournamentsFn,
		options...,
	)
	if err != nil {
		return nil, fmt.Errorf("creating cache manager %s: %w", "MainTournaments", err)
	}

	return &TournamentCacheManager{
		tournamentCacheManager_MainTournaments: tournamentCacheManager_MainTournaments,
	}, nil
}

func (cm *TournamentCacheManager) GetMainTournaments(
	ctx context.Context,
	input *MainTournamentsRequest,
) (*MainTournamentsResponse, error) {
	return cm.tournamentCacheManager_MainTournaments.Get(ctx, input)
}

func (cm *TournamentCacheManager) RefreshMainTournaments(
	ctx context.Context,
	input *MainTournamentsRequest,
) (*MainTournamentsResponse, error) {
	return cm.tournamentCacheManager_MainTournaments.Refresh(ctx, input)
}
